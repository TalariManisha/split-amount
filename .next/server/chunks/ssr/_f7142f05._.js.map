{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/hooks/use-convex-query.js"],"sourcesContent":["import { useQuery, useMutation } from \"convex/react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport const useConvexQuery = (query, ...args) => {\r\n  const result = useQuery(query, ...args);\r\n  const [data, setData] = useState(undefined);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Use effect to handle the state changes based on the query result\r\n  useEffect(() => {\r\n    if (result === undefined) {\r\n      setIsLoading(true);\r\n    } else {\r\n      try {\r\n        setData(result);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError(err);\r\n        toast.error(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  }, [result]);\r\n\r\n  return {\r\n    data,\r\n    isLoading,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const useConvexMutation = (mutation) => {\r\n  const mutationFn = useMutation(mutation);\r\n  const [data, setData] = useState(undefined);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const mutate = async (...args) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await mutationFn(...args);\r\n      setData(response);\r\n      return response;\r\n    } catch (err) {\r\n      setError(err);\r\n      toast.error(err.message);\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return { mutate, data, isLoading, error };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;;;;AAEO,MAAM,iBAAiB,CAAC,OAAO,GAAG;IACvC,MAAM,SAAS,CAAA,GAAA,wJAAA,CAAA,WAAQ,AAAD,EAAE,UAAU;IAClC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,mEAAmE;IACnE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,WAAW;YACxB,aAAa;QACf,OAAO;YACL,IAAI;gBACF,QAAQ;gBACR,SAAS;YACX,EAAE,OAAO,KAAK;gBACZ,SAAS;gBACT,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,IAAI,OAAO;YACzB,SAAU;gBACR,aAAa;YACf;QACF;IACF,GAAG;QAAC;KAAO;IAEX,OAAO;QACL;QACA;QACA;IACF;AACF;AAEO,MAAM,oBAAoB,CAAC;IAChC,MAAM,aAAa,CAAA,GAAA,wJAAA,CAAA,cAAW,AAAD,EAAE;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,SAAS,OAAO,GAAG;QACvB,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,cAAc;YACrC,QAAQ;YACR,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,IAAI,OAAO;YACvB,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QAAE;QAAQ;QAAM;QAAW;IAAM;AAC1C","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction CardHeader({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction CardTitle({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction CardDescription({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction CardAction({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction CardContent({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\r\n}\r\n\r\nfunction CardFooter({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,aAAU;QAAe,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/ui/tabs.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn(\"flex flex-col gap-2\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\r\n        className\r\n      )}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn(\"flex-1 outline-none\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,OAAkB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,OAAkB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,UAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,UAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/ui/avatar.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\"relative flex size-8 shrink-0 overflow-hidden rounded-full\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\"aspect-square size-full\", className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    (<AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\r\n        className\r\n      )}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,kKAAA,CAAA,OAAoB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8DAA8D;QAC3E,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,kKAAA,CAAA,QAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,kKAAA,CAAA,WAAwB;QACxB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,oEACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/ui/badge.jsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}) {\r\n  const Comp = asChild ? Slot : \"span\"\r\n\r\n  return (\r\n    (<Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props} />)\r\n  );\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OACJ;IACC,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/lib/expense-categories.js"],"sourcesContent":["// lib/expense-categories.js\r\nimport {\r\n  Coffee,\r\n  ShoppingBag,\r\n  Utensils,\r\n  Plane,\r\n  Car,\r\n  Home,\r\n  Film,\r\n  ShoppingCart,\r\n  Ticket,\r\n  Wifi,\r\n  Droplets,\r\n  GraduationCap,\r\n  Heart,\r\n  Stethoscope,\r\n  Gift,\r\n  Smartphone,\r\n  MoreHorizontal,\r\n  CreditCard,\r\n  Baby,\r\n  Music,\r\n  Book,\r\n  DollarSign,\r\n} from \"lucide-react\";\r\n\r\n// Object containing all categories with their respective icons\r\nexport const EXPENSE_CATEGORIES = {\r\n  foodDrink: {\r\n    id: \"foodDrink\",\r\n    name: \"Food & Drink\",\r\n    icon: Utensils,\r\n  },\r\n  coffee: {\r\n    id: \"coffee\",\r\n    name: \"Coffee\",\r\n    icon: Coffee,\r\n  },\r\n  groceries: {\r\n    id: \"groceries\",\r\n    name: \"Groceries\",\r\n    icon: ShoppingCart,\r\n  },\r\n  shopping: {\r\n    id: \"shopping\",\r\n    name: \"Shopping\",\r\n    icon: ShoppingBag,\r\n  },\r\n  travel: {\r\n    id: \"travel\",\r\n    name: \"Travel\",\r\n    icon: Plane,\r\n  },\r\n  transportation: {\r\n    id: \"transportation\",\r\n    name: \"Transportation\",\r\n    icon: Car,\r\n  },\r\n  housing: {\r\n    id: \"housing\",\r\n    name: \"Housing\",\r\n    icon: Home,\r\n  },\r\n  entertainment: {\r\n    id: \"entertainment\",\r\n    name: \"Entertainment\",\r\n    icon: Film,\r\n  },\r\n  tickets: {\r\n    id: \"tickets\",\r\n    name: \"Tickets\",\r\n    icon: Ticket,\r\n  },\r\n  utilities: {\r\n    id: \"utilities\",\r\n    name: \"Utilities\",\r\n    icon: Wifi,\r\n  },\r\n  water: {\r\n    id: \"water\",\r\n    name: \"Water\",\r\n    icon: Droplets,\r\n  },\r\n  education: {\r\n    id: \"education\",\r\n    name: \"Education\",\r\n    icon: GraduationCap,\r\n  },\r\n  health: {\r\n    id: \"health\",\r\n    name: \"Health\",\r\n    icon: Stethoscope,\r\n  },\r\n  personal: {\r\n    id: \"personal\",\r\n    name: \"Personal\",\r\n    icon: Heart,\r\n  },\r\n  gifts: {\r\n    id: \"gifts\",\r\n    name: \"Gifts\",\r\n    icon: Gift,\r\n  },\r\n  technology: {\r\n    id: \"technology\",\r\n    name: \"Technology\",\r\n    icon: Smartphone,\r\n  },\r\n  bills: {\r\n    id: \"bills\",\r\n    name: \"Bills & Fees\",\r\n    icon: CreditCard,\r\n  },\r\n  baby: {\r\n    id: \"baby\",\r\n    name: \"Baby & Kids\",\r\n    icon: Baby,\r\n  },\r\n  music: {\r\n    id: \"music\",\r\n    name: \"Music\",\r\n    icon: Music,\r\n  },\r\n  books: {\r\n    id: \"books\",\r\n    name: \"Books\",\r\n    icon: Book,\r\n  },\r\n  other: {\r\n    id: \"other\",\r\n    name: \"Other\",\r\n    icon: MoreHorizontal,\r\n  },\r\n  general: {\r\n    id: \"general\",\r\n    name: \"General Expense\",\r\n    icon: DollarSign,\r\n  },\r\n};\r\n\r\n// Helper function to get category by ID\r\nexport const getCategoryById = (categoryId) => {\r\n  return EXPENSE_CATEGORIES[categoryId] || EXPENSE_CATEGORIES.other;\r\n};\r\n\r\n// Get array of all categories (useful for dropdowns)\r\nexport const getAllCategories = () => {\r\n  return Object.values(EXPENSE_CATEGORIES);\r\n};\r\n\r\n// Get icon for a category\r\nexport const getCategoryIcon = (categoryId) => {\r\n  const category = getCategoryById(categoryId);\r\n  return category.icon;\r\n};\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;AAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA0BO,MAAM,qBAAqB;IAChC,WAAW;QACT,IAAI;QACJ,MAAM;QACN,MAAM,0MAAA,CAAA,WAAQ;IAChB;IACA,QAAQ;QACN,IAAI;QACJ,MAAM;QACN,MAAM,sMAAA,CAAA,SAAM;IACd;IACA,WAAW;QACT,IAAI;QACJ,MAAM;QACN,MAAM,sNAAA,CAAA,eAAY;IACpB;IACA,UAAU;QACR,IAAI;QACJ,MAAM;QACN,MAAM,oNAAA,CAAA,cAAW;IACnB;IACA,QAAQ;QACN,IAAI;QACJ,MAAM;QACN,MAAM,oMAAA,CAAA,QAAK;IACb;IACA,gBAAgB;QACd,IAAI;QACJ,MAAM;QACN,MAAM,gMAAA,CAAA,MAAG;IACX;IACA,SAAS;QACP,IAAI;QACJ,MAAM;QACN,MAAM,mMAAA,CAAA,OAAI;IACZ;IACA,eAAe;QACb,IAAI;QACJ,MAAM;QACN,MAAM,kMAAA,CAAA,OAAI;IACZ;IACA,SAAS;QACP,IAAI;QACJ,MAAM;QACN,MAAM,sMAAA,CAAA,SAAM;IACd;IACA,WAAW;QACT,IAAI;QACJ,MAAM;QACN,MAAM,kMAAA,CAAA,OAAI;IACZ;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,MAAM,0MAAA,CAAA,WAAQ;IAChB;IACA,WAAW;QACT,IAAI;QACJ,MAAM;QACN,MAAM,wNAAA,CAAA,gBAAa;IACrB;IACA,QAAQ;QACN,IAAI;QACJ,MAAM;QACN,MAAM,gNAAA,CAAA,cAAW;IACnB;IACA,UAAU;QACR,IAAI;QACJ,MAAM;QACN,MAAM,oMAAA,CAAA,QAAK;IACb;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,MAAM,kMAAA,CAAA,OAAI;IACZ;IACA,YAAY;QACV,IAAI;QACJ,MAAM;QACN,MAAM,8MAAA,CAAA,aAAU;IAClB;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,MAAM,kNAAA,CAAA,aAAU;IAClB;IACA,MAAM;QACJ,IAAI;QACJ,MAAM;QACN,MAAM,kMAAA,CAAA,OAAI;IACZ;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,MAAM,oMAAA,CAAA,QAAK;IACb;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,MAAM,kMAAA,CAAA,OAAI;IACZ;IACA,OAAO;QACL,IAAI;QACJ,MAAM;QACN,MAAM,gNAAA,CAAA,iBAAc;IACtB;IACA,SAAS;QACP,IAAI;QACJ,MAAM;QACN,MAAM,kNAAA,CAAA,aAAU;IAClB;AACF;AAGO,MAAM,kBAAkB,CAAC;IAC9B,OAAO,kBAAkB,CAAC,WAAW,IAAI,mBAAmB,KAAK;AACnE;AAGO,MAAM,mBAAmB;IAC9B,OAAO,OAAO,MAAM,CAAC;AACvB;AAGO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,WAAW,gBAAgB;IACjC,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 505, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/expense-list.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useConvexQuery, useConvexMutation } from \"@/hooks/use-convex-query\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { format } from \"date-fns\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { getCategoryById } from \"@/lib/expense-categories\";\r\nimport { getCategoryIcon } from \"@/lib/expense-categories\";\r\nimport { Trash2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function ExpenseList({\r\n  expenses,\r\n  showOtherPerson = true,\r\n  isGroupExpense = false,\r\n  otherPersonId = null,\r\n  userLookupMap = {},\r\n}) {\r\n  const { data: currentUser } = useConvexQuery(api.users.getCurrentUser);\r\n  const deleteExpense = useConvexMutation(api.expenses.deleteExpense);\r\n\r\n  if (!expenses || !expenses.length) {\r\n    return (\r\n      <Card className=\"border-dashed border-muted-foreground/30 bg-muted/40\">\r\n        <CardContent className=\"py-8 text-center text-sm text-muted-foreground\">\r\n          No expenses found\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Helper to get user details from cache or look up from expense\r\n  const getUserDetails = (userId) => {\r\n    // For the group context, we need to look up members from somewhere else\r\n    // This is a simplified fallback\r\n    return {\r\n      name:\r\n        userId === currentUser?._id\r\n          ? \"You\"\r\n          : userLookupMap[userId]?.name || \"Other User\",\r\n      imageUrl: null,\r\n      id: userId,\r\n    };\r\n  };\r\n\r\n  // Check if the user can delete an expense (creator or payer)\r\n  const canDeleteExpense = (expense) => {\r\n    if (!currentUser) return false;\r\n    return (\r\n      expense.createdBy === currentUser._id ||\r\n      expense.paidByUserId === currentUser._id\r\n    );\r\n  };\r\n\r\n  // Handle delete expense\r\n  const handleDeleteExpense = async (expense) => {\r\n    // Use basic JavaScript confirm\r\n    const confirmed = window.confirm(\r\n      \"Are you sure you want to delete this expense? This action cannot be undone.\"\r\n    );\r\n\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      await deleteExpense.mutate({ expenseId: expense._id });\r\n      toast.success(\"Expense deleted successfully\");\r\n    } catch (error) {\r\n      toast.error(\"Failed to delete expense: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-3\">\r\n      {expenses.map((expense) => {\r\n        const payer = getUserDetails(expense.paidByUserId, expense);\r\n        const isCurrentUserPayer = expense.paidByUserId === currentUser?._id;\r\n        const category = getCategoryById(expense.category);\r\n        const CategoryIcon = getCategoryIcon(category.id);\r\n        const showDeleteOption = canDeleteExpense(expense);\r\n\r\n        return (\r\n          <Card\r\n            className=\"group border-border/70 bg-card/80 shadow-sm shadow-black/5 transition-all hover:-translate-y-0.5 hover:border-primary/50 hover:bg-card hover:shadow-md\"\r\n            key={expense._id}\r\n          >\r\n            <CardContent className=\"py-4 px-4 sm:px-5\">\r\n              <div className=\"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between\">\r\n                <div className=\"flex flex-1 items-start gap-3\">\r\n                  {/* Category icon */}\r\n                  <div className=\"mt-0.5 rounded-full bg-primary/10 p-2 text-primary shadow-inner shadow-primary/20\">\r\n                    <CategoryIcon className=\"h-5 w-5\" />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-1\">\r\n                    <h3 className=\"text-sm font-medium sm:text-base\">\r\n                      {expense.description}\r\n                    </h3>\r\n                    <div className=\"flex flex-wrap items-center gap-2 text-xs text-muted-foreground sm:text-sm\">\r\n                      <span className=\"rounded-full bg-muted px-2 py-0.5 text-[11px] font-medium uppercase tracking-wide text-foreground/75\">\r\n                        {format(new Date(expense.date), \"MMM d, yyyy\")}\r\n                      </span>\r\n                      {showOtherPerson && (\r\n                        <>\r\n                          <span className=\"text-muted-foreground/60\">•</span>\r\n                          <span>\r\n                            {isCurrentUserPayer ? \"You\" : payer.name} paid\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                      {category?.label && (\r\n                        <>\r\n                          <span className=\"text-muted-foreground/60\">•</span>\r\n                          <span className=\"rounded-full bg-primary/5 px-2 py-0.5 text-[11px] font-medium text-primary\">\r\n                            {category.label}\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 sm:items-start\">\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-base font-semibold tracking-tight sm:text-lg\">\r\n                      <span className=\"tabular-nums\">\r\n                        ${expense.amount.toFixed(2)}\r\n                      </span>\r\n                    </div>\r\n                    {isGroupExpense ? (\r\n                      <Badge\r\n                        variant=\"outline\"\r\n                        className=\"mt-1 border-primary/40 bg-primary/5 text-[11px] font-medium text-primary\"\r\n                      >\r\n                        Group expense\r\n                      </Badge>\r\n                    ) : (\r\n                      <div className=\"mt-0.5 text-xs font-medium text-muted-foreground sm:text-sm\">\r\n                        {isCurrentUserPayer ? (\r\n                          <span className=\"rounded-full bg-emerald-500/10 px-2 py-0.5 text-emerald-600\">\r\n                            You paid\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"rounded-full bg-rose-500/10 px-2 py-0.5 text-rose-600\">\r\n                            {payer.name} paid\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {showDeleteOption && (\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"h-8 w-8 rounded-full text-rose-500 transition hover:bg-rose-500/10 hover:text-rose-600\"\r\n                      onClick={() => handleDeleteExpense(expense)}\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                      <span className=\"sr-only\">Delete expense</span>\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Display splits info */}\r\n              <div className=\"mt-3 border-t border-border/70 pt-3 text-sm\">\r\n                <div className=\"mb-1 text-xs font-medium uppercase tracking-wide text-muted-foreground\">\r\n                  Split details\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {expense.splits.map((split, idx) => {\r\n                    const splitUser = getUserDetails(split.userId, expense);\r\n                    const isCurrentUser = split.userId === currentUser?._id;\r\n                    const shouldShow =\r\n                      showOtherPerson ||\r\n                      (!showOtherPerson &&\r\n                        (split.userId === currentUser?._id ||\r\n                          split.userId === otherPersonId));\r\n\r\n                    if (!shouldShow) return null;\r\n\r\n                    return (\r\n                      <Badge\r\n                        key={idx}\r\n                        variant={split.paid ? \"outline\" : \"secondary\"}\r\n                        className={`flex items-center gap-1 rounded-full border-border/60 px-2 py-0.5 text-xs ${\r\n                          split.paid\r\n                            ? \"bg-emerald-500/5 text-emerald-700 dark:text-emerald-300\"\r\n                            : \"bg-muted text-foreground\"\r\n                        }`}\r\n                      >\r\n                        <Avatar className=\"h-4 w-4 border border-border/60\">\r\n                          <AvatarImage src={splitUser.imageUrl} />\r\n                          <AvatarFallback className=\"text-[10px] font-semibold\">\r\n                            {splitUser.name?.charAt(0) || \"?\"}\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n                        <span className=\"whitespace-nowrap\">\r\n                          {isCurrentUser ? \"You\" : splitUser.name}: $\r\n                          {split.amount.toFixed(2)}\r\n                        </span>\r\n                      </Badge>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/settlement-list.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useConvexQuery } from \"@/hooks/use-convex-query\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { format } from \"date-fns\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ArrowLeftRight } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport function SettlementList({\r\n  settlements,\r\n  isGroupSettlement = false,\r\n  userLookupMap,\r\n}) {\r\n  const { data: currentUser } = useConvexQuery(api.users.getCurrentUser);\r\n  console.log(\"settlements\", settlements);\r\n\r\n  if (!settlements || !settlements.length) {\r\n    return (\r\n      <Card className=\"border-dashed border-muted-foreground/30 bg-muted/40\">\r\n        <CardContent className=\"py-8 text-center text-sm text-muted-foreground\">\r\n          No settlements found\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Helper to get user details from cache or look up\r\n  const getUserDetails = (userId) => {\r\n    // Simplified fallback\r\n    return {\r\n      name:\r\n        userId === currentUser?._id\r\n          ? \"You\"\r\n          : userLookupMap[userId]?.name || \"Other User\",\r\n      imageUrl: null,\r\n      id: userId,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-3\">\r\n      {settlements.map((settlement) => {\r\n        const payer = getUserDetails(settlement.paidByUserId);\r\n        const receiver = getUserDetails(settlement.receivedByUserId);\r\n        const isCurrentUserPayer = settlement.paidByUserId === currentUser?._id;\r\n        const isCurrentUserReceiver =\r\n          settlement.receivedByUserId === currentUser?._id;\r\n\r\n        return (\r\n          <Card\r\n            className=\"group border-muted/60 bg-card/80 shadow-sm shadow-black/5 transition-all hover:-translate-y-0.5 hover:border-primary/40 hover:bg-card hover:shadow-md\"\r\n            key={settlement._id}\r\n          >\r\n            <CardContent className=\"py-4 px-4 sm:px-5\">\r\n              <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  {/* Settlement icon */}\r\n                  <div className=\"mt-0.5 rounded-full bg-primary/10 p-2 text-primary shadow-inner shadow-primary/20\">\r\n                    <ArrowLeftRight className=\"h-5 w-5\" />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-1\">\r\n                    <h3 className=\"text-sm font-medium sm:text-base\">\r\n                      {isCurrentUserPayer\r\n                        ? `You paid ${receiver.name}`\r\n                        : isCurrentUserReceiver\r\n                        ? `${payer.name} paid you`\r\n                        : `${payer.name} paid ${receiver.name}`}\r\n                    </h3>\r\n                    <div className=\"flex flex-wrap items-center gap-2 text-xs text-muted-foreground sm:text-sm\">\r\n                      <span className=\"rounded-full bg-muted px-2 py-0.5 text-[11px] font-medium uppercase tracking-wide text-foreground/80\">\r\n                        {format(new Date(settlement.date), \"MMM d, yyyy\")}\r\n                      </span>\r\n                      {settlement.note && (\r\n                        <>\r\n                          <span className=\"text-muted-foreground/60\">•</span>\r\n                          <span className=\"line-clamp-1 max-w-xs\">\r\n                            {settlement.note}\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col items-end gap-1 text-right\">\r\n                  <div className=\"text-base font-semibold sm:text-lg\">\r\n                    <span className=\"tabular-nums\">\r\n                      ${settlement.amount.toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                  {isGroupSettlement ? (\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      className=\"border-primary/40 bg-primary/5 text-[11px] font-medium text-primary\"\r\n                    >\r\n                      Group settlement\r\n                    </Badge>\r\n                  ) : (\r\n                    <div className=\"text-xs font-medium text-muted-foreground sm:text-sm\">\r\n                      {isCurrentUserPayer ? (\r\n                        <span className=\"rounded-full bg-amber-500/10 px-2 py-0.5 text-amber-600\">\r\n                          You paid\r\n                        </span>\r\n                      ) : isCurrentUserReceiver ? (\r\n                        <span className=\"rounded-full bg-emerald-500/10 px-2 py-0.5 text-emerald-600\">\r\n                          You received\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"rounded-full bg-muted px-2 py-0.5\">\r\n                          Payment\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWO,SAAS,eAAe,EAC7B,WAAW,EACX,oBAAoB,KAAK,EACzB,aAAa,EACd;IACC,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD,EAAE,2HAAA,CAAA,MAAG,CAAC,KAAK,CAAC,cAAc;IACrE,QAAQ,GAAG,CAAC,eAAe;IAE3B,IAAI,CAAC,eAAe,CAAC,YAAY,MAAM,EAAE;QACvC,qBACE,8OAAC,yHAAA,CAAA,OAAI;YAAC,WAAU;sBACd,cAAA,8OAAC,yHAAA,CAAA,cAAW;gBAAC,WAAU;0BAAiD;;;;;;;;;;;IAK9E;IAEA,mDAAmD;IACnD,MAAM,iBAAiB,CAAC;QACtB,sBAAsB;QACtB,OAAO;YACL,MACE,WAAW,aAAa,MACpB,QACA,aAAa,CAAC,OAAO,EAAE,QAAQ;YACrC,UAAU;YACV,IAAI;QACN;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,YAAY,GAAG,CAAC,CAAC;YAChB,MAAM,QAAQ,eAAe,WAAW,YAAY;YACpD,MAAM,WAAW,eAAe,WAAW,gBAAgB;YAC3D,MAAM,qBAAqB,WAAW,YAAY,KAAK,aAAa;YACpE,MAAM,wBACJ,WAAW,gBAAgB,KAAK,aAAa;YAE/C,qBACE,8OAAC,yHAAA,CAAA,OAAI;gBACH,WAAU;0BAGV,cAAA,8OAAC,yHAAA,CAAA,cAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,8NAAA,CAAA,iBAAc;4CAAC,WAAU;;;;;;;;;;;kDAG5B,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAG,WAAU;0DACX,qBACG,CAAC,SAAS,EAAE,SAAS,IAAI,EAAE,GAC3B,wBACA,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,GACxB,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE,SAAS,IAAI,EAAE;;;;;;0DAE3C,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEACb,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,WAAW,IAAI,GAAG;;;;;;oDAEpC,WAAW,IAAI,kBACd;;0EACE,8OAAC;gEAAK,WAAU;0EAA2B;;;;;;0EAC3C,8OAAC;gEAAK,WAAU;0EACb,WAAW,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQ5B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;;gDAAe;gDAC3B,WAAW,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;oCAG/B,kCACC,8OAAC,0HAAA,CAAA,QAAK;wCACJ,SAAQ;wCACR,WAAU;kDACX;;;;;6DAID,8OAAC;wCAAI,WAAU;kDACZ,mCACC,8OAAC;4CAAK,WAAU;sDAA0D;;;;;mDAGxE,sCACF,8OAAC;4CAAK,WAAU;sDAA8D;;;;;iEAI9E,8OAAC;4CAAK,WAAU;sDAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;eA1D3D,WAAW,GAAG;;;;;QAqEzB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 1133, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/group-balances.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useConvexQuery } from \"@/hooks/use-convex-query\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { ArrowUpCircle, ArrowDownCircle } from \"lucide-react\";\r\n\r\n/**\r\n * Expected `balances` shape (one object per member):\r\n * {\r\n *   id:           string;           // user id\r\n *   name:         string;\r\n *   imageUrl?:    string;\r\n *   totalBalance: number;           // + ve ⇒ they are owed, – ve ⇒ they owe\r\n *   owes:   { to: string;   amount: number }[];  // this member → others\r\n *   owedBy: { from: string; amount: number }[];  // others → this member\r\n * }\r\n */\r\nexport function GroupBalances({ balances }) {\r\n  const { data: currentUser } = useConvexQuery(api.users.getCurrentUser);\r\n\r\n  /* ───── guards ────────────────────────────────────────────────────────── */\r\n  if (!balances?.length || !currentUser) {\r\n    return (\r\n      <div className=\"py-6 text-center text-sm text-muted-foreground\">\r\n        No balance information available\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* ───── helpers ───────────────────────────────────────────────────────── */\r\n  const me = balances.find((b) => b.id === currentUser._id);\r\n  if (!me) {\r\n    return (\r\n      <div className=\"py-6 text-center text-sm text-muted-foreground\">\r\n        You’re not part of this group\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const userMap = Object.fromEntries(balances.map((b) => [b.id, b]));\r\n\r\n  // Who owes me?\r\n  const owedByMembers = me.owedBy\r\n    .map(({ from, amount }) => ({ ...userMap[from], amount }))\r\n    .sort((a, b) => b.amount - a.amount);\r\n\r\n  // Whom do I owe?\r\n  const owingToMembers = me.owes\r\n    .map(({ to, amount }) => ({ ...userMap[to], amount }))\r\n    .sort((a, b) => b.amount - a.amount);\r\n\r\n  const isAllSettledUp =\r\n    me.totalBalance === 0 &&\r\n    owedByMembers.length === 0 &&\r\n    owingToMembers.length === 0;\r\n\r\n  /* ───── UI ────────────────────────────────────────────────────────────── */\r\n  return (\r\n    <div className=\"space-y-5 rounded-xl border border-border bg-card/80 p-4 shadow-sm shadow-black/5\">\r\n      {/* Current user's total balance */}\r\n      <div className=\"border-b border-border/70 pb-4 text-center\">\r\n        <p className=\"mb-1 text-xs font-medium uppercase tracking-wide text-muted-foreground\">\r\n          Your balance\r\n        </p>\r\n        <p\r\n          className={`text-2xl font-semibold tracking-tight ${\r\n            me.totalBalance > 0\r\n              ? \"text-emerald-600\"\r\n              : me.totalBalance < 0\r\n              ? \"text-rose-600\"\r\n              : \"text-foreground\"\r\n          }`}\r\n        >\r\n          {me.totalBalance > 0\r\n            ? `+$${me.totalBalance.toFixed(2)}`\r\n            : me.totalBalance < 0\r\n            ? `-$${Math.abs(me.totalBalance).toFixed(2)}`\r\n            : \"$0.00\"}\r\n        </p>\r\n        <p className=\"mt-1 text-xs text-muted-foreground\">\r\n          {me.totalBalance > 0\r\n            ? \"You are owed money\"\r\n            : me.totalBalance < 0\r\n            ? \"You owe money\"\r\n            : \"You are all settled up\"}\r\n        </p>\r\n      </div>\r\n\r\n      {isAllSettledUp ? (\r\n        <div className=\"rounded-lg bg-muted/60 py-4 text-center text-sm text-muted-foreground\">\r\n          Everyone is settled up!\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-5\">\r\n          {/* People who owe the current user */}\r\n          {owedByMembers.length > 0 && (\r\n            <div className=\"rounded-lg bg-emerald-50/70 p-3 dark:bg-emerald-950/40\">\r\n              <h3 className=\"mb-3 flex items-center text-xs font-semibold uppercase tracking-wide text-emerald-800 dark:text-emerald-300\">\r\n                <ArrowUpCircle className=\"mr-2 h-4 w-4 text-emerald-500\" />\r\n                Owed to you\r\n              </h3>\r\n              <div className=\"space-y-2.5\">\r\n                {owedByMembers.map((member) => (\r\n                  <div\r\n                    key={member.id}\r\n                    className=\"flex items-center justify-between rounded-md px-1 py-1.5\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2.5\">\r\n                      <Avatar className=\"h-8 w-8 border border-emerald-100 dark:border-emerald-900/50\">\r\n                        <AvatarImage src={member.imageUrl} />\r\n                        <AvatarFallback className=\"bg-emerald-100 text-xs font-semibold text-emerald-800 dark:bg-emerald-900/60 dark:text-emerald-50\">\r\n                          {member.name?.charAt(0) ?? \"?\"}\r\n                        </AvatarFallback>\r\n                      </Avatar>\r\n                      <span className=\"text-sm font-medium text-foreground\">\r\n                        {member.name}\r\n                      </span>\r\n                    </div>\r\n                    <span className=\"text-sm font-semibold text-emerald-600 dark:text-emerald-400\">\r\n                      ${member.amount.toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* People the current user owes */}\r\n          {owingToMembers.length > 0 && (\r\n            <div className=\"rounded-lg bg-rose-50/70 p-3 dark:bg-rose-950/40\">\r\n              <h3 className=\"mb-3 flex items-center text-xs font-semibold uppercase tracking-wide text-rose-800 dark:text-rose-300\">\r\n                <ArrowDownCircle className=\"mr-2 h-4 w-4 text-rose-500\" />\r\n                You owe\r\n              </h3>\r\n              <div className=\"space-y-2.5\">\r\n                {owingToMembers.map((member) => (\r\n                  <div\r\n                    key={member.id}\r\n                    className=\"flex items-center justify-between rounded-md px-1 py-1.5\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2.5\">\r\n                      <Avatar className=\"h-8 w-8 border border-rose-100 dark:border-rose-900/50\">\r\n                        <AvatarImage src={member.imageUrl} />\r\n                        <AvatarFallback className=\"bg-rose-100 text-xs font-semibold text-rose-800 dark:bg-rose-900/60 dark:text-rose-50\">\r\n                          {member.name?.charAt(0) ?? \"?\"}\r\n                        </AvatarFallback>\r\n                      </Avatar>\r\n                      <span className=\"text-sm font-medium text-foreground\">\r\n                        {member.name}\r\n                      </span>\r\n                    </div>\r\n                    <span className=\"text-sm font-semibold text-rose-600 dark:text-rose-400\">\r\n                      ${member.amount.toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AALA;;;;;;AAkBO,SAAS,cAAc,EAAE,QAAQ,EAAE;IACxC,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD,EAAE,2HAAA,CAAA,MAAG,CAAC,KAAK,CAAC,cAAc;IAErE,2EAA2E,GAC3E,IAAI,CAAC,UAAU,UAAU,CAAC,aAAa;QACrC,qBACE,8OAAC;YAAI,WAAU;sBAAiD;;;;;;IAIpE;IAEA,2EAA2E,GAC3E,MAAM,KAAK,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,YAAY,GAAG;IACxD,IAAI,CAAC,IAAI;QACP,qBACE,8OAAC;YAAI,WAAU;sBAAiD;;;;;;IAIpE;IAEA,MAAM,UAAU,OAAO,WAAW,CAAC,SAAS,GAAG,CAAC,CAAC,IAAM;YAAC,EAAE,EAAE;YAAE;SAAE;IAEhE,eAAe;IACf,MAAM,gBAAgB,GAAG,MAAM,CAC5B,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,GAAK,CAAC;YAAE,GAAG,OAAO,CAAC,KAAK;YAAE;QAAO,CAAC,GACvD,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;IAErC,iBAAiB;IACjB,MAAM,iBAAiB,GAAG,IAAI,CAC3B,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,GAAK,CAAC;YAAE,GAAG,OAAO,CAAC,GAAG;YAAE;QAAO,CAAC,GACnD,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;IAErC,MAAM,iBACJ,GAAG,YAAY,KAAK,KACpB,cAAc,MAAM,KAAK,KACzB,eAAe,MAAM,KAAK;IAE5B,2EAA2E,GAC3E,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAyE;;;;;;kCAGtF,8OAAC;wBACC,WAAW,CAAC,sCAAsC,EAChD,GAAG,YAAY,GAAG,IACd,qBACA,GAAG,YAAY,GAAG,IAClB,kBACA,mBACJ;kCAED,GAAG,YAAY,GAAG,IACf,CAAC,EAAE,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,GACjC,GAAG,YAAY,GAAG,IAClB,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,GAAG,YAAY,EAAE,OAAO,CAAC,IAAI,GAC3C;;;;;;kCAEN,8OAAC;wBAAE,WAAU;kCACV,GAAG,YAAY,GAAG,IACf,uBACA,GAAG,YAAY,GAAG,IAClB,kBACA;;;;;;;;;;;;YAIP,+BACC,8OAAC;gBAAI,WAAU;0BAAwE;;;;;qCAIvF,8OAAC;gBAAI,WAAU;;oBAEZ,cAAc,MAAM,GAAG,mBACtB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;;kDACZ,8OAAC,4NAAA,CAAA,gBAAa;wCAAC,WAAU;;;;;;oCAAkC;;;;;;;0CAG7D,8OAAC;gCAAI,WAAU;0CACZ,cAAc,GAAG,CAAC,CAAC,uBAClB,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAI,WAAU;;kEACb,8OAAC,2HAAA,CAAA,SAAM;wDAAC,WAAU;;0EAChB,8OAAC,2HAAA,CAAA,cAAW;gEAAC,KAAK,OAAO,QAAQ;;;;;;0EACjC,8OAAC,2HAAA,CAAA,iBAAc;gEAAC,WAAU;0EACvB,OAAO,IAAI,EAAE,OAAO,MAAM;;;;;;;;;;;;kEAG/B,8OAAC;wDAAK,WAAU;kEACb,OAAO,IAAI;;;;;;;;;;;;0DAGhB,8OAAC;gDAAK,WAAU;;oDAA+D;oDAC3E,OAAO,MAAM,CAAC,OAAO,CAAC;;;;;;;;uCAfrB,OAAO,EAAE;;;;;;;;;;;;;;;;oBAwBvB,eAAe,MAAM,GAAG,mBACvB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;;kDACZ,8OAAC,gOAAA,CAAA,kBAAe;wCAAC,WAAU;;;;;;oCAA+B;;;;;;;0CAG5D,8OAAC;gCAAI,WAAU;0CACZ,eAAe,GAAG,CAAC,CAAC,uBACnB,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAI,WAAU;;kEACb,8OAAC,2HAAA,CAAA,SAAM;wDAAC,WAAU;;0EAChB,8OAAC,2HAAA,CAAA,cAAW;gEAAC,KAAK,OAAO,QAAQ;;;;;;0EACjC,8OAAC,2HAAA,CAAA,iBAAc;gEAAC,WAAU;0EACvB,OAAO,IAAI,EAAE,OAAO,MAAM;;;;;;;;;;;;kEAG/B,8OAAC;wDAAK,WAAU;kEACb,OAAO,IAAI;;;;;;;;;;;;0DAGhB,8OAAC;gDAAK,WAAU;;oDAAyD;oDACrE,OAAO,MAAM,CAAC,OAAO,CAAC;;;;;;;;uCAfrB,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BlC","debugId":null}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/components/group-members.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useConvexQuery } from \"@/hooks/use-convex-query\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\n\r\nexport function GroupMembers({ members }) {\r\n  const { data: currentUser } = useConvexQuery(api.users.getCurrentUser);\r\n\r\n  if (!members || members.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-4 text-muted-foreground\">\r\n        No members in this group\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {members.map((member) => {\r\n        const isCurrentUser = member.id === currentUser?._id;\r\n        const isAdmin = member.role === \"admin\";\r\n\r\n        return (\r\n          <div key={member.id} className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Avatar className=\"h-8 w-8\">\r\n                <AvatarImage src={member.imageUrl} />\r\n                <AvatarFallback>{member.name.charAt(0)}</AvatarFallback>\r\n              </Avatar>\r\n              <div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-sm font-medium\">\r\n                    {isCurrentUser ? \"You\" : member.name}\r\n                  </span>\r\n                  {isCurrentUser && (\r\n                    <Badge variant=\"outline\" className=\"text-xs py-0 h-5\">\r\n                      You\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n                {isAdmin && (\r\n                  <span className=\"text-xs text-muted-foreground\">Admin</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,aAAa,EAAE,OAAO,EAAE;IACtC,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD,EAAE,2HAAA,CAAA,MAAG,CAAC,KAAK,CAAC,cAAc;IAErE,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG;QACpC,qBACE,8OAAC;YAAI,WAAU;sBAAyC;;;;;;IAI5D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC;YACZ,MAAM,gBAAgB,OAAO,EAAE,KAAK,aAAa;YACjD,MAAM,UAAU,OAAO,IAAI,KAAK;YAEhC,qBACE,8OAAC;gBAAoB,WAAU;0BAC7B,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,2HAAA,CAAA,SAAM;4BAAC,WAAU;;8CAChB,8OAAC,2HAAA,CAAA,cAAW;oCAAC,KAAK,OAAO,QAAQ;;;;;;8CACjC,8OAAC,2HAAA,CAAA,iBAAc;8CAAE,OAAO,IAAI,CAAC,MAAM,CAAC;;;;;;;;;;;;sCAEtC,8OAAC;;8CACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDACb,gBAAgB,QAAQ,OAAO,IAAI;;;;;;wCAErC,+BACC,8OAAC,0HAAA,CAAA,QAAK;4CAAC,SAAQ;4CAAU,WAAU;sDAAmB;;;;;;;;;;;;gCAKzD,yBACC,8OAAC;oCAAK,WAAU;8CAAgC;;;;;;;;;;;;;;;;;;eAlB9C,OAAO,EAAE;;;;;QAwBvB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 1564, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/surya/Desktop/spliter%20app/ai-splitwise-clone/app/%28main%29/groups/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { useConvexQuery } from \"@/hooks/use-convex-query\";\r\nimport { BarLoader } from \"react-spinners\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { PlusCircle, ArrowLeftRight, ArrowLeft, Users } from \"lucide-react\";\r\nimport { ExpenseList } from \"@/components/expense-list\";\r\nimport { SettlementList } from \"@/components/settlement-list\";\r\nimport { GroupBalances } from \"@/components/group-balances\";\r\nimport { GroupMembers } from \"@/components/group-members\";\r\n\r\nexport default function GroupExpensesPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const [activeTab, setActiveTab] = useState(\"expenses\");\r\n\r\n  const { data, isLoading } = useConvexQuery(api.groups.getGroupExpenses, {\r\n    groupId: params.id,\r\n  });\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"container mx-auto py-12\">\r\n        <BarLoader width={\"100%\"} color=\"#36d7b7\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const group = data?.group;\r\n  const members = data?.members || [];\r\n  const expenses = data?.expenses || [];\r\n  const settlements = data?.settlements || [];\r\n  const balances = data?.balances || [];\r\n  const userLookupMap = data?.userLookupMap || {};\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 max-w-4xl\">\r\n      <div className=\"mb-6\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          className=\"mb-4\"\r\n          onClick={() => router.back()}\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n          Back\r\n        </Button>\r\n\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center gap-4 justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"bg-primary/10 p-4 rounded-md\">\r\n              <Users className=\"h-8 w-8 text-primary\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-4xl gradient-title\">{group?.name}</h1>\r\n              <p className=\"text-muted-foreground\">{group?.description}</p>\r\n              <p className=\"text-sm text-muted-foreground mt-1\">\r\n                {members.length} members\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <Button asChild variant=\"outline\">\r\n              <Link href={`/settlements/group/${params.id}`}>\r\n                <ArrowLeftRight className=\"mr-2 h-4 w-4\" />\r\n                Settle up\r\n              </Link>\r\n            </Button>\r\n            <Button asChild>\r\n              <Link href={`/expenses/new`}>\r\n                <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n                Add expense\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Grid layout for group details */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\">\r\n        <div className=\"lg:col-span-2\">\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-xl\">Group Balances</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <GroupBalances balances={balances} />\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        <div>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-xl\">Members</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <GroupMembers members={members} />\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs for expenses and settlements */}\r\n      <Tabs\r\n        defaultValue=\"expenses\"\r\n        value={activeTab}\r\n        onValueChange={setActiveTab}\r\n        className=\"space-y-4\"\r\n      >\r\n        <TabsList className=\"grid w-full grid-cols-2\">\r\n          <TabsTrigger value=\"expenses\">\r\n            Expenses ({expenses.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"settlements\">\r\n            Settlements ({settlements.length})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"expenses\" className=\"space-y-4\">\r\n          <ExpenseList\r\n            expenses={expenses}\r\n            showOtherPerson={true}\r\n            isGroupExpense={true}\r\n            userLookupMap={userLookupMap}\r\n          />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"settlements\" className=\"space-y-4\">\r\n          <SettlementList\r\n            settlements={settlements}\r\n            isGroupSettlement={true}\r\n            userLookupMap={userLookupMap}\r\n          />\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}